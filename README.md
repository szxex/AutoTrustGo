## 🇯🇵 日本語 README

# AutoTrustGO

**SDXL / LoRA / LyCORIS 用・信頼度駆動型オプティマイザ**

AutoTrustGO は、
**LoRA 学習における「過学習・不安定化・AI臭さ」を抑えつつ、
細部表現と画風再現性を最大化すること**を目的として設計された
カスタム Optimizer です。

v0.9 は **最終安定版**として、
これまでの試行錯誤を統合し、構造・意味・挙動が整理されています。

---

## 特徴

* ✅ **step 非依存設計**

  * `step_count` や warmup / decay に一切依存しません
* ✅ **confidence 駆動学習**

  * 勾配の「信頼度」を rank / stability の2成分で評価
* ✅ **過学習の自然抑制**

  * confidence 高止まり時に自動減衰
* ✅ **細部表現の保持**

  * 目・線・微細な揺れを潰しにくい
* ✅ **画風・キャラ・概念・実写に汎用対応**
* ✅ **LoRA 適用時の汎化性能が高い**
* ✅ **AdamW / Lion で起きがちな平坦化を回避**

---

## 設計思想（要点）

AutoTrustGO は
「**どれくらい信じて更新していいか**」を学習中に自己判断します。

### 重要な内部要素

* **confidence**

  * rank 成分：更新すべき構造か？
  * stability 成分：揺らしても壊れないか？
* **danger**

  * 勾配が暴走する兆候の連続評価
* **mask_ema**

  * 学習が安定している割合の記憶
* **trust_level**

  * ユーザが指定する「攻め具合」

👉 これらを **if に頼らず連続的に制御**します。

---

## 推奨用途

* SDXL + LoRA / LyCORIS 学習
* 画風学習（イラスト・実写）
* キャラクター学習
* 概念学習（ポーズ・服装・構造）
* fine-tune 的用途

---

## AdamW / Lion との比較（要約）

| 項目    | AdamW | Lion | AutoTrustGO |
| ----- | ----- | ---- | ----------- |
| 安定性   | △     | △    | ◎           |
| 細部表現  | △     | ◎    | ◎           |
| 過学習耐性 | △     | △    | ◎           |
| 汎化性能  | △     | ○    | ◎           |
| AI臭さ  | 出やすい  | 出にくい | 出にくい        |
| 調整難易度 | 低     | 中    | 低           |

---

## パラメータ説明

### learning_rate

* 基本学習率
* AutoTrustGO 内部で自動スケーリングされるため、
  **AdamW よりやや高めが適正**

### trust_level（唯一の性格パラメータ）

| 値   | 挙動                   |
| --- | -------------------- |
| 0.3 | 非常に慎重                |
| 0.4 | **最推奨（再現性と汎化のバランス）** |
| 0.5 | 攻め気味（キャラ強調向け）        |

---

## 注意点

* ❌ step / epoch 依存の scheduler を使わないでください
* ❌ lr を極端に下げないでください
* ❌ Adam 系前提のノウハウをそのまま適用しないでください

---

